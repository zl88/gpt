!function(){"use strict";var e={7532:function(e,t,n){var a=n(9242),o=(n(7658),n(541),n(3396)),l=n(7139),s=n(4870),i=n(4161);const c={id:"main"},u={id:"center"},r={id:"bottom"};var d=(0,o.aZ)({__name:"dialogCom",props:{title:null,show:{type:Boolean}},setup(e){const t=e;return(e,n)=>((0,o.wg)(),(0,o.iD)("div",{id:"dialog",class:(0,l.C_)({show:t.show})},[(0,o._)("div",c,[(0,o._)("p",null,(0,l.zw)(t.title),1),(0,o._)("div",u,[(0,o.WI)(e.$slots,"center")]),(0,o._)("div",r,[(0,o.WI)(e.$slots,"bottom")])])],2))}}),v=n(89);var p=(0,v.Z)(d,[["__scopeId","data-v-7549cf0a"]]);let h=0;var m=function(e){const t=document.querySelector("body"),n=document.createElement("div");n.id="messageBox",n.className="messageBox-"+ ++h,n.innerHTML=`<div class="${e.type}">${e.content}</div>`,t?.appendChild(n),setTimeout((()=>{h--,n.remove()}),3e3)},f=n(5068),g=n(5792),y=n(8134),_=n.n(y),w=n(3099),k=n.n(w);const b=(0,s.iH)("");function S(e){window.localStorage.setItem("n0ts-chatgpt-theme",e),b.value=e}function C(){const e=window.localStorage.getItem("n0ts-chatgpt-theme");e?b.value=e:S("light"),document.documentElement.setAttribute("theme",e||"light")}var T={switchTheme:function(){b.value=window.localStorage.getItem("n0ts-chatgpt-theme"),b.value="light"===b.value?"dark":"light",S(b.value),C()},load:C,themeCache:b},H={key:"",data:{model:"gpt-3.5-turbo"},system:"",max_token:4096};function O(){return window.localStorage.setItem("n0ts-chatgpt-config",JSON.stringify(H)),H}var x={save:O,read:function(){const e=JSON.parse(window.localStorage.getItem("n0ts-chatgpt-config")??"{}");return e.key?(H.key=e.key,H.data=e.data,H.system=e.system,H):O()},config:H};const E=e=>((0,o.dD)("data-v-4f3f77c7"),e=e(),(0,o.Cn)(),e),I={id:"chatgpt"},D=E((()=>(0,o._)("div",{class:"title",style:{padding:"10px"}},[(0,o._)("a",{href:"#",rel:"noopener",title:"ÂÖ≥‰∫éÊú¨Á´ô",onclick:'document.getElementById("dome").innerHTML=obj.sites[0].hello'},[(0,o._)("i",{class:"jiaran"})]),(0,o._)("h1",{style:{display:"none"}},"Â∞èÈôàGPTüíï"),(0,o._)("a",{target:"_blank",rel:"noopener",class:"xiaochen",href:"https://cn.bing.com/search?q=%E5%A4%8Fdj%E5%AF%BC%E8%88%AA"},"Â∞èÈôàGPTüíï")],-1))),U=E((()=>(0,o._)("i",{class:"line"},null,-1))),A={id:"chats"},j=["onClick"],P=["onClick"],M={id:"bottom"},L={key:0,class:"money"},N={id:"main",class:"box"},z={key:0,id:"messages"},B={class:"img"},Y={key:0,class:"system"},$={key:1,class:"user"},G={key:2,class:"ai"},q=["innerHTML"],K={class:"tokens"},J=E((()=>(0,o._)("div",{id:"stretch"},null,-1))),Z={key:1,id:"home"},F=[E((()=>(0,o._)("div",null,[(0,o._)("h2",null,"Â∞èÈôàGPTüíï Âü∫‰∫é gpt-3.5-turbo"),(0,o._)("h3",null,"ÂèØ‰ª•ËÅäÂ§©ÔºåÈóÆÈóÆÈ¢ò"),(0,o._)("div",{class:"content"},[(0,o._)("p",null," Âõ†Â•≥ÊúãÂèã‰ΩøÁî®chatgptÊúâ‰∏ÄÂÆöÂõ∞ÈöæÔºå Â∞èÈôàgptüíï ÊòØ‰∏∫ÊàëÁöÑÂ•≥ÊúãÂèãÂ∞èÈôàÂà∂‰ΩúÔºå ÂêåÊó∂Êèê‰æõÁªôÊàëÁöÑÊúãÂèã‰ΩøÁî® "),(0,o._)("p",null,"ÊÑüË∞¢ÂÆ§ÂèãÂ∞èÁôΩÂíåÁ¶πÂì•‰∏∫Ê≠§ÂÖçË¥πÊèê‰æõopenaiÁöÑkey"),(0,o._)("p",null,[(0,o.Uk)(" Êú¨ÁΩëÁ´ô‰ΩøÁî®Â∑≤ÂºÄÊ∫êÈ°πÁõÆÊûÑÂª∫ÔºåÊÑüË∞¢‰ΩúËÄÖÂºÄÊ∫ê Âú∞ÂùÄ :"),(0,o._)("a",{href:"https://gitee.com/n0ts/chat-gpt",target:"_blank"},"Gitee")]),(0,o._)("p",null,"ËØ∑ÊîæÂøÉ‰ΩøÁî®ÔºåÊï∞ÊçÆ‰ªÖÂÇ®Â≠òÂú®‰Ω†ÁöÑÊµèËßàÂô®")])],-1)))],V={id:"input"},W=E((()=>(0,o._)("p",null,"ËØ∑Âú®‰∏ãÊñπËæìÂÖ•‰Ω†ÁöÑ key",-1))),R=E((()=>(0,o._)("p",null,[(0,o.Uk)(" Áî≥ËØ∑Âú∞ÂùÄÔºö"),(0,o._)("a",{href:"https://platform.openai.com/account/api-keys",target:"_blank"},"ÁÇπÊàë")],-1))),Q=E((()=>(0,o._)("p",null,[(0,o.Uk)(" Â∞èÂº†ÁöÑÊúãÂèãÔºö"),(0,o._)("a",{href:"https://www.zlblog.cf/posts/21814.html",target:"_blank"},"ÁÇπÊàë")],-1))),X=["onKeydown"],ee=E((()=>(0,o._)("p",{class:"tips"}," key ‰ºö‰øùÂ≠òÂú®Êú¨Âú∞ÊµèËßàÂô®(localStorage)‰∏≠ÔºåÂè™‰æõÊú¨Âú∞‰ΩøÁî® ",-1))),te={class:"panel"},ne=E((()=>(0,o._)("p",null,"keyÔºö",-1))),ae=E((()=>(0,o._)("p",{class:"tips"},"OpenAI Áî≥ËØ∑ÁöÑ Key",-1))),oe=E((()=>(0,o._)("p",null,"Ë°å‰∏∫ËÆæÂÆöÔºö",-1))),le={class:"tips"},se=E((()=>(0,o._)("span",null,"Áªô OpenAI ËÆæÂÆö‰∏Ä‰∏™Ë°å‰∏∫ÔºåÊØîÂ¶ÇÔºö",-1))),ie=E((()=>(0,o._)("br",null,null,-1))),ce=E((()=>(0,o._)("span",null,"‚Äú‰Ω†ÊòØ‰∏ÄÁõ¥Áå´ÔºåÊØèÂè•ËØùÂêéÈù¢Âä†‰∏™ Âñµ~‚Äù",-1))),ue=E((()=>(0,o._)("br",null,null,-1))),re=E((()=>(0,o._)("span",null,"ÂèàÊàñËÄÖ",-1))),de=E((()=>(0,o._)("br",null,null,-1))),ve=["innerHTML"];var pe=(0,o.aZ)({__name:"App",setup(e){const{config:t,read:n,save:c}=x;n();const u=(0,s.iH)(""==t.key);let r=null,d=null;(0,o.bv)((()=>{d=new(k())(document.querySelector("#main")),r=document.querySelector("#messages"),T.load(),t.key&&He()}));const v=(0,s.iH)("");function h(){if(""==v.value)return m({type:"warning",content:"key ‰∏çËÉΩ‰∏∫Á©∫"});t.key=v.value,v.value="",c(),u.value=!1,m({type:"success",content:"key Â≠òÂÇ®ÊàêÂäüÔºåÂêëÂ∞èÈôàgptÊèêÈóÆÂêß"}),He()}const y=(0,s.iH)(!1);async function w(e,t,n){const a=n||t,l={role:e,content:a,tokens:0,stream:a};ge[ye.value].contents.push(l),l.tokens=await Ee(l.stream),b(),await(0,o.Y3)(),we(),d.update()}function b(){window.localStorage.setItem("message-data",JSON.stringify(ge)),De()}const S=(0,s.iH)("");function C(){if(""!=S.value&&""!=S.value.trim()&&!y.value){if(-1==ye.value&&(ge.unshift({name:"",contents:[]}),ye.value=0),t.system&&0==ge[ye.value].contents.length&&w("system",t.system),w("user",S.value),1==ge[ye.value].contents.length||"system"==ge[ye.value].contents[0].role&&2==ge[ye.value].contents.length){const e=S.value;let t=1;ge.forEach((n=>{0==n.name.indexOf(e)&&t++})),ge[ye.value].name=e+(1==t?"":` #${t}`),document.title=e+" | ChatGPT"}S.value="",async function(){y.value=!0,w("assistant",""),fetch("https://node.fatshady.cn/chatgpt-stream",{method:"POST",body:JSON.stringify({key:t.key,model:t.data.model,messages:ge[ye.value].contents.map((e=>({role:e.role,content:e.stream}))),timeout:6e4}),headers:{"Content-Type":"application/json"}}).then((e=>{const t=e.body.getReader(),n=new TextDecoder("utf-8");let a="";t.read().then((async function e(l){if(l.done)return;const s=n.decode(l.value);if(s.includes('"error": {\n'))return y.value=!1,xe(s);if(s.includes("data: [DONE]")){y.value=!1;const e=ge[ye.value].contents[ge[ye.value].contents.length-1];return e.tokens=await Ee(e.content),b(),await(0,o.Y3)(),we(),void d.update()}return s.replaceAll("data: ","").split("\n").filter(Boolean).forEach((async e=>{const t=JSON.parse(e);if(!t.choices[0].delta.content)return;const n=t.choices[0].delta.content;a+=n,ge[ye.value].contents[ge[ye.value].contents.length-1].content=f.TU.parse(a),ge[ye.value].contents[ge[ye.value].contents.length-1].stream=a,await(0,o.Y3)(),we()})),t.read().then(e)}))})).catch((()=>{y.value=!1}))}()}}let H=!1;function O(){H||(H=!0,setTimeout((()=>{H=!1,r=document.querySelector("#messages"),r?r.scrollTo({top:r.scrollHeight,behavior:"smooth"}):O()}),300))}let E=!1;function pe(e){if(16===e.keyCode&&(E=!0),!E&&13===e.keyCode)return C(),e.preventDefault(),!1}function he(e){16===e.keyCode&&(E=!1)}const me=(0,s.iH)(64);(0,o.YP)((()=>S.value),(()=>{const e=S.value.split("\n").length;me.value=64*e}));const fe=window.localStorage.getItem("message-data"),ge=(0,s.qj)(fe?JSON.parse(fe):[]),ye=(0,s.iH)(-1);function _e(){b();let e=1;ge.forEach((t=>{0==t.name.indexOf("Êñ∞‰ºöËØù")&&e++})),ge.unshift({name:"Êñ∞‰ºöËØù"+(1==e?"":` #${e}`),contents:[]}),S.value="",ye.value=0}async function we(){const e=[];document.querySelectorAll("#messages pre code").forEach((t=>{if(t.getAttribute("class")?.includes("hljs"))return;const n=document.createElement("div");n.className="copyBtn",n.innerHTML="Â§çÂà∂",n.setAttribute("code",t.innerHTML),n.addEventListener("click",(e=>{!function(e){const t=e.target.getAttribute("code");t&&(_().copy(t),m({type:"success",content:"Â§çÂà∂ÊàêÂäü"}))}(e)})),t.parentElement?.appendChild(n),g.Z.highlightElement(t),e.push(t)})),function(e){for(let t=0;t<e.length;t++){const n=e[t].innerHTML.replace(/\n/g,"</li><li>");e[t].innerHTML=`<ol><li>${n}</li></ol>`.replace("<li></li></ol>","</ol>")}}(e),O()}(0,o.YP)((()=>ye.value),(async()=>{ge[ye.value]&&(document.title=ge[ye.value].name+" | ü§™ChatGPT",await(0,o.Y3)(),De(),we(),d.update())}));const ke=(0,s.iH)(!1);function be(){window.localStorage.removeItem("message-data"),window.localStorage.removeItem("n0ts-chatgpt-theme"),window.localStorage.removeItem("n0ts-chatgpt-config"),window.location.reload()}const Se=(0,s.iH)(!1);function Ce(){Se.value=!Se.value,c(),m({type:"success",content:"ËÆæÁΩÆÂ∑≤‰øùÂ≠ò"})}const Te=(0,s.iH)(null);async function He(){const{data:e}=await(0,i.Z)({method:"post",url:"https://node.fatshady.cn/cors",data:{method:"GET",url:"https://api.openai.com/dashboard/billing/credit_grants",headers:{authorization:`Bearer ${t.key}`}}});Te.value=e.data}function Oe(e,t){return Number(e.toFixed(t))}function xe(e){const n=JSON.parse(e.replace("Êú™Áü•ÈîôËØØÔºåËØ∑ËÅîÁ≥ªÁ´ôÈïøËß£ÂÜ≥ÔºÅ",""));console.error("Êä•Èîô‰∫ÜÂì•‰ª¨",n),ge[ye.value].contents[ge[ye.value].contents.length-1].content=e,"invalid_api_key"==n.error.code&&(m({type:"danger",content:"API Key ÈîôËØØÔºåËØ∑ÈáçÊñ∞ÈÖçÁΩÆ"}),t.key="",c(),u.value=!0)}async function Ee(e){if(!e)return 0;const{data:t}=await(0,i.Z)({method:"GET",url:"https://node.fatshady.cn/chatgpt/encoder",params:{content:e}});return 400==t.status?0:t.data.tokens/2}const Ie=(0,s.iH)(0);function De(){if(!ge[ye.value])return;let e=0;ge[ye.value].contents.forEach((t=>{e+=t.tokens})),Ie.value=e}return(e,n)=>((0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",I,[(0,o._)("div",{id:"sidebar",class:(0,l.C_)({sideBarShow:ke.value})},[D,(0,o._)("div",{class:"btns"},[(0,o._)("div",{class:"btn",onClick:_e},[(0,o.Uk)(" ‚ûï Êñ∞Âª∫‰ºöËØù"),U])]),(0,o._)("div",A,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(ge,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t,onClick:e=>ye.value=t,class:(0,l.C_)({active:ye.value==t})},[(0,o._)("p",null,(0,l.zw)(e.name),1),(0,o._)("span",{onClick:(0,a.iM)((e=>function(e){document.title="ü§™ChatGPT",ge.splice(e,1),ye.value=-1,b()}(t)),["stop"])},"üóë Âà†Èô§",8,P)],10,j)))),128))]),(0,o._)("div",M,[(0,o._)("div",{class:"btn",onClick:n[0]||(n[0]=(...e)=>(0,s.SU)(T).switchTheme&&(0,s.SU)(T).switchTheme(...e))},(0,l.zw)("light"==(0,s.SU)(T).themeCache.value?"üåÉ ÊöóËâ≤Ê®°Âºè":"üåá ‰∫ÆËâ≤Ê®°Âºè"),1),(0,o._)("div",{class:"btn",onClick:n[1]||(n[1]=e=>Se.value=!0)},"üëê ÊâìÂºÄÈÖçÁΩÆ"),(0,o._)("div",{class:"btn",onClick:be},"üëä ÈáçÁΩÆÈÖçÁΩÆ"),Te.value?((0,o.wg)(),(0,o.iD)("div",L," ‰ΩôÈ¢ùÔºö"+(0,l.zw)(Oe(Te.value.total_available,2))+" $ÔºåÂ∑≤Áî®Ôºö"+(0,l.zw)(Oe(Te.value.total_used,2))+" $ ",1)):(0,o.kq)("",!0)]),(0,o._)("div",{id:"showBtn",onClick:n[2]||(n[2]=e=>ke.value=!ke.value)},(0,l.zw)(ke.value?"üëà":"üëâ"),1)],2),(0,o._)("div",N,[ge[ye.value]?((0,o.wg)(),(0,o.iD)("div",z,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(ge[ye.value].contents,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t},[(0,o._)("div",B,["system"==e.role?((0,o.wg)(),(0,o.iD)("div",Y," SY ")):"user"==e.role?((0,o.wg)(),(0,o.iD)("div",$," Êàë ")):((0,o.wg)(),(0,o.iD)("div",G))]),(0,o._)("div",{class:(0,l.C_)(["content",{end:!y.value||t!=ge[ye.value].contents.length-1}]),innerHTML:e.content},null,10,q),(0,o._)("div",K," tokens: "+(0,l.zw)(0==e.tokens?"...":e.tokens),1)])))),128)),J])):((0,o.wg)(),(0,o.iD)("div",Z,F)),(0,o._)("div",V,[(0,o._)("p",null,"tokens ÊÄªÂíåÔºö"+(0,l.zw)(Ie.value),1),(0,o.wy)((0,o._)("textarea",{placeholder:"ËØ∑ËæìÂÖ•...","onUpdate:modelValue":n[3]||(n[3]=e=>S.value=e),onKeydown:pe,onKeyup:he,style:(0,l.j5)({height:me.value+"px"})},null,36),[[a.nr,S.value]])])])]),(0,o.Wm)(p,{title:"ËæìÂÖ• key",show:u.value},{center:(0,o.w5)((()=>[W,R,Q,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":n[4]||(n[4]=e=>v.value=e),onKeydown:(0,a.D2)(h,["enter"])},null,40,X),[[a.nr,v.value]]),ee])),bottom:(0,o.w5)((()=>[(0,o._)("button",{class:"success",onClick:h},"Êèê‰∫§")])),_:1},8,["show"]),(0,o.Wm)(p,{title:"ËÆæÁΩÆ",show:Se.value},{center:(0,o.w5)((()=>[(0,o._)("div",te,[(0,o._)("div",null,[ne,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":n[5]||(n[5]=e=>(0,s.SU)(t).key=e)},null,512),[[a.nr,(0,s.SU)(t).key]])]),ae,(0,o._)("div",null,[oe,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":n[6]||(n[6]=e=>(0,s.SU)(t).system=e)},null,512),[[a.nr,(0,s.SU)(t).system]])]),(0,o._)("p",le,[se,ie,ce,ue,re,de,(0,o._)("span",{innerHTML:"‚ÄúÂΩì‰Ω†Ë¶ÅÂèëÈÄÅÂõæÁâáÊó∂ÔºåËØ∑‰ΩøÁî® markdownÔºå‰∏çË¶ÅÁî®‰ª£Á†ÅÂùóÔºåÂπ∂‰∏î‰ªé Unsplash API ‰∏≠‚Äúhttps://source.unsplash.com/960x640/?<ÂÖ≥ÈîÆËØç>‚Äù Ëé∑Âèñ‚Äù"},null,8,ve)])])])),bottom:(0,o.w5)((()=>[(0,o._)("button",{class:"success",onClick:Ce},"‰øùÂ≠ò")])),_:1},8,["show"])],64))}});var he=(0,v.Z)(pe,[["__scopeId","data-v-4f3f77c7"]]);(0,a.ri)(he).mount("#app")}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var l=t[a]={exports:{}};return e[a].call(l.exports,l,l.exports,n),l.exports}n.m=e,function(){var e=[];n.O=function(t,a,o,l){if(!a){var s=1/0;for(r=0;r<e.length;r++){a=e[r][0],o=e[r][1],l=e[r][2];for(var i=!0,c=0;c<a.length;c++)(!1&l||s>=l)&&Object.keys(n.O).every((function(e){return n.O[e](a[c])}))?a.splice(c--,1):(i=!1,l<s&&(s=l));if(i){e.splice(r--,1);var u=o();void 0!==u&&(t=u)}}return t}l=l||0;for(var r=e.length;r>0&&e[r-1][2]>l;r--)e[r]=e[r-1];e[r]=[a,o,l]}}(),n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,l,s=a[0],i=a[1],c=a[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(c)var r=c(n)}for(t&&t(a);u<s.length;u++)l=s[u],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(r)},a=self.webpackChunkchatgpt=self.webpackChunkchatgpt||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(7532)}));a=n.O(a)}();